<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    *{
      margin: 0;
      padding: 0;
    }
    input{
      margin-top: 10px;
    }
    div{
      width: 200px;
      height: 100px;
      background-color: green;
      margin-top: 20px;
      position: absolute;/*定位*/
    }
  </style>
</head>
<body>
<input type="button" value="移动到400px" id="btn1"/>
<input type="button" value="移动到800px" id="btn2"/>
<div id="dv" ></div>
<script src="common.js"></script>

<script>

  my$("btn1").onclick=function () {
      //移动div
    animate(my$("dv"),400);
  };

  my$("btn2").onclick=function () {
    //移动div
    animate(my$("dv"),800);
  };

  function animate(element,target) {
    //先清理定时器,保证只有一个定时器
    clearInterval(element.timeId);
    element.timeId= setInterval(function () {
      //获取元素的当前的位置(元素距离左边的位置)
      var current=element.offsetLeft;
      //每次移动的步数
      var step=10;
      step=current<target?step:-step;
      //每次移动后的新的位置
      current+=step;
      //判断当前位置和目标位置是否一致
      if(Math.abs(current-target)>Math.abs(step)){
        element.style.left=current+"px";
      }else{
        //停止定时器
        clearInterval(element.timeId);
        element.style.left=target+"px";
      }

    },20);
  }


</script>
<script>
  //动画:动画都是骗子
  //动画:时间+动作
  //my$("btn1").onclick=function () {
    //获取div的当前位置left
    //凡是在style标签中设置的样式属性的值,都获取不到
    //凡是在style属性中设置的样式属性的值,都可以获取到
    //  console.log(my$("dv").style.width);//获取不到
    //offset系列
//    console.log(my$("dv").offsetLeft);//距离左边的位置
//    console.log(my$("dv").offsetWidth);
//    console.log(my$("dv").offsetHeight);
//    console.log(my$("dv").offsetTop);
  //};


//  my$("btn1").onclick=function () {
//    var left=10;
//    var tiemId=setInterval(function () {
//      if(left<400){
//        left+=10;
//        my$("dv").style.left=left+"px";
//      }
//
//    },20);
//
//  };
//
//  my$("btn2").onclick=function () {
//    var left=10;
//    var tiemId=setInterval(function () {
//      if(left<800){
//        left+=10;
//        my$("dv").style.left=left+"px";
//      }
//    },20);
//
//  };
</script>
</body>
</html>